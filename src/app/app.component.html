<!DOCTYPE html>
<html style.backgroundImage="url('{{this.image}}')">

<body>
    <div class="container">
        <app-side *ngIf="this.showSide" (settingsClick)="settingsClick($event)" name="Saket" [avatar]="this.selectedAvatar" [city]="this.selectedCity" [weatherData]="this.weatherData"></app-side>
        <canvas id="canvas" width="400px" height="400px"></canvas>
    </div>
    <div class="settings overlay">
        <div class="icon-container">
            <div class="d-flex">
                <span class="material-icons pointer active-settings" [ngClass]="this.settingsClicked ? 'rotate' : 'anti-rotate'" (click)="settingsClick($event)">settings</span>
            </div>
        </div>
    </div>
    <div class="overlay-side" id="side-nav">
        <div class="side-container">
            <div class="content">
                <mat-accordion class="example-headers-align" multi>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <span class="mini-title">Weather</span>
                            </mat-panel-title>
                            <span class="material-icons" [ngClass]="this.weatherError ? 'invalid' : 'success'">
                                verified
                            </span>
                            <!-- <mat-panel-description>
                                <span [innerHTML]="this.selectedCity.length > 0 ? this.selectedCity : 'Select your city'"></span>
                            </mat-panel-description> -->
                        </mat-expansion-panel-header>
                        <div class="weather-input-container">
                            <mat-form-field>
                                <mat-label>City</mat-label>
                                <input type="text" matInput [value]="this.selectedCity" (change)="updateCity($event)" placeholder="City">
                            </mat-form-field>
                            <span [ngClass]="this.weatherError ? 'invalid' : ''">{{this.weatherErrorText}} 
                                <span class="bold">{{this.city}}</span>
                            </span>
                        </div>
                    </mat-expansion-panel>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <span class="mini-title">Auto Change Background</span>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="toggle-container">
                            <mat-slide-toggle (click)="changeAnimation()" [checked]="true">
                                <span>Auto Change Background</span>
                            </mat-slide-toggle>
                            <mat-slide-toggle (click)="this.showSideClick()" [checked]="false">
                                <span>Show Side</span>
                            </mat-slide-toggle>
                        </div>
                    </mat-expansion-panel>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <span class="mini-title">Background</span>
                            </mat-panel-title>
                            <!-- <mat-panel-description>
                                Select a background image
                            </mat-panel-description> -->
                        </mat-expansion-panel-header>

                        <div class="grid-box">
                            <img class="selected-image" [src]="this.image" alt="selected">
                            <div class="single-line">
                                <img class="thumbnail pointer" *ngFor="let image of this.images" [src]="image" (click)="selectImage(image)" alt="background">
                            </div>
                            <span class="material-icons pointer" (click)="changeImageManually('previous')">skip_previous</span>
                            <span class="material-icons pointer" (click)="changeImageManually('next')">skip_next</span>
                        </div>

                    </mat-expansion-panel>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <span class="mini-title">Avatar</span>
                            </mat-panel-title>
                            <!-- <mat-panel-description>
                                Select a background image
                            </mat-panel-description> -->
                        </mat-expansion-panel-header>

                        <div class="grid-box">
                            <img class="selected-avatar" [src]="this.selectedAvatar" alt="selected">
                            <div class="single-line-avatar">
                                <img class="thumbnail-avatar pointer" *ngFor="let image of this.avatars" [src]="image" (click)="selectAvatar(image)" alt="avatar">
                            </div>
                        </div>

                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </div>
        <span class="material-icons pointer right-bottom mini-bg" [ngClass]="this.settingsClicked ? 'rotate' : 'anti-rotate'" (click)="settingsClick($event)" [innerHTML]="this.settingsClicked ? 'close' : 'settings'"></span>
    </div>
</body>

</html>